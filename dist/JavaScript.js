(function(y){function z(g,m){function e(h,q){d.push({a:h,b:q.r(),c:n.length})}function r(h,q){q=void 0===q?0:q;for(var D=0,A=0;A<h.length;A++){var w=h[A],G=void 0;"C"!=w.a&&"H"!=w.a||w.c!=q||"D"==(null==(G=h[A-1])?void 0:G.a)||(D++,w.a="G",B.push(w.b.trim()))}d=d.concat(h);D&&t.push(D+(t[t.length-1]||0));u="function"}function x(h){var q=p.b||"";K.test(h)||("get"==h||"set"==h)&&"class"==n[n.length-1]?(/(function|if|do|while|for|class|catch|else|finally|switch|try)/.test(h)&&(u=h.trim()),e("B",h)):
!L.test(h)||/^(function|var|const|let)/.test(q)||/(\.\s*)$/.test(q)?/(\.\s*)$/.test(q)?e("I",h):-1<B.indexOf(h)||"arguments"==h&&"function"==n[n.length-1]?e("G",h):e("C",h):e("H",h)}m=void 0===m?{}:m;for(var v=g.length,d=[],b="",n=[],B=[],t=[],u="",a=0;a<v;){if(b=g.substring(a).match(M)){var c=b[0];b=c.match(E);var p=d[d.length-1]||F;b?(c=g.substring(a).match(E)[0],e("F",c)):x(c);a+=c.length;window.Colorful.m(d)}else"."==g[a]&&/\d/.test(g[a+1])&&(b=g.substring(a).match(E)[0],e("F",b),a+=b.length);
if(a==v)break;p=d[d.length-1]||F;var f=g[a];b=g.substr(a,2);if(H.test(f))b=g.substring(a).match(H)[0],p.b?p.b+=b:e("C",b),a+=b.length;else if("'"==f||'"'==f||"`"==f){e("A",f);a++;c="";b=0;for(var k="'"==f?/^[^'\\]+/:'"'==f?/^[^"\\]+/:/^[^`\\${]+/;a<v;){if(c=g.substring(a).match(k))e("A",c[0]),a+=c[0].length,b=0;c=g[a];if("\\"==c)c=g.substring(a).match(/[\\]+/)[0],e("A",c),b+=c.length,a+=c.length;else if(c==f){if(e("A",c),a++,0==b%2)break}else if("${"==g.substr(a,2)){e("D","${");a+=2;c=g.substring(a);
var l=z(c,{a:!0});l.tokens.length&&(d=d.concat(l.tokens));a+=l.inputEnd;l.inputEnd!=c.length?(e("D","}"),a++):"\n"==g[a-1]&&(d[d.length-1].b+="\n")}}}else if(f.match(N)[0])if(c=g.substring(a),k=p.a,"//"==b||"/*"==b)b=c.match(O)[0],a+=b.length,e("E",b);else if("/"==f&&("C"!=k||/^\s+$/.test(p.b))&&"I"!=k&&"F"!=k&&I.test(c))b=!0,l=void 0,k=null==(l=d[d.length-2])?void 0:l.a,"E"!=p.a||"C"!=k&&"I"!=k&&"F"!=k||(b=!1),b?(k=c.match(I)[0],e("K",k),a+=k.length):(e("D",f),a++);else if("=>"==b){if("C"==p.a)p.a=
"G",B.push(p.b.trim()),t.push((t[t.length-1]||0)+1),u="function";else if(/\)\s*$/.test(p.b)){c=n.length;l=[d[d.length-1]];for(var C=d.length-2;0<=C;C--)if(k=d[C],l.push(k),"L"==k.a&&k.c==c){d.splice(C);break}l.reverse();r(l,c+1)}e("D",b);a+=2}else e("D",f),a++;else if("("==f){c=p;k=c.a;l=d[d.length-2]||F;l="function"==c.b.substr(0,8)&&"B"==k||"function"==l.b.substr(0,8)&&"B"==l.a||"class"==n[n.length-1];e("L","(");a++;n.push("(");u="(";if("C"==k||"I"==k)c.a="J";l&&"()"!=b&&(b=z(g.substring(a),{b:!0}),
r(b.tokens),a+=b.inputEnd)}else if("{"==f||"["==f)e("L",f),a++,n.push(u),u=f;else{if("}"==f||")"==f||"]"==f)if(b={"}":"a",")":"b","]":"c"},0<n.length)"}"==f&&t.length&&"function"==n[n.length-1]&&(B.splice(t[t.length-2]),t.pop()),n.pop();else if(m[b[f]])break;e("L",f);a++}window.Colorful.m(d)}"\n"==f&&(d[d.length-1].b+="\n");return{tokens:d,inputEnd:a}}function J(g){for(var m="",e={C:"name",I:"objprop",B:"keyword",E:"comment",F:"number",G:"argument",H:"capital",J:"method",A:"string",K:"regex",D:"operator"},
r=0;r<g.length;r++){var x=g[r],v=x.a;m="L"!=v?m+("<span class='"+e[v]+"'>"+x.b+"</span>"):m+x.b}return m}var K=/^(await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|if|implements|import|in|instanceof|interface|let|native|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|undefined|var|void|while|with|yield)$/,N=/[=+\-*/%!<>&|:?]*/,M=/^[\w\u00C0-\uffff\$]+/,E=/^(\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?)/,
O=/((\/\*[\s\S]*?\*\/|\/\*[\s\S]*)|(\/\/.*))/,I=/^\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,L=/^(AggregateError|Buffer|Array|ArrayBuffer|AsyncFunction|AsyncGenerator|AsyncGeneratorFunction|Atomics|BigInt|BigInt64Array|BigUint64Array|Boolean|DataView|Date|Error|EvalError|Float32Array|Float64Array|Function|Generator|GeneratorFunction|Int16Array|Int32Array|Int8Array|InternalError|Intl|JSON|Map|Math|Number|Object|Promise|Proxy|RangeError|ReferenceError|Reflect|RegExp|Set|SharedArrayBuffer|String|Symbol|SyntaxError|TypeError|URIError|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|WeakMap|WeakSet|WebAssembly)$/,
H=/[\s]+/,F={a:"",b:""};y.Colorful.langs.push("JS");y.Colorful.compilers.JS={compile:function(g,m){m=void 0===m?y.Colorful.config:m;var e=g.innerText,r=z(e);r=J(r.tokens);g.innerHTML=y.Colorful.f(m,e,r)},tokenize:z,parse:J}})(window);