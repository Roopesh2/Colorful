(function(I){function J(h,B,w){function Q(){var d=c.length;c[d-1].a==(c[d-2]||{}).a&&c[d-1].c==(c[d-2]||{}).c&&((c[d-2].b+=c[d-1].b),c.pop());}function f(d,p){c.push({a:d,b:p,c:l.length});}function R(d,p){p=void 0===p?0:p;for(var K=0,C=0;C<d.length;C++){var x=d[C];(r!=x.a&&L!=x.a)||x.c!=p||u==(d[C-1]||{}).a||(K++,(x.a=D),E.push(x.b.trim()));}c=c.concat(d);K&&q.push(K+(q[q.length-1]||0)+1);v="function";}function W(d){var p=m.b||"";X.test(d)||(("get"==d||"set"==d)&&"class"==l[l.length-1])?(f(F,d),/(function|if|do|while|for|class|catch|else|finally|switch|try)/.test(d)&&(v=d)):(Y.test(d)&&!/^(function|var|const|let|interface)/.test(p)&&!/(\.\s*)$/.test(p))||("constructor"==d&&"class"==l[l.length-1])?f(L,d):/(\.\s*)$/.test(p)?f(y,d):-1<E.indexOf(d)||"arguments"==d? f(D,d):f(r,d);}B=void 0===B?{}:B;w=void 0===w?null:w;
for(var M=h.length,c=[],a,l=[],E=[],q=[],v="",b=0;b<M;){a=h.substr(b).match(Z);if(w&&w.test(h.substr(b)))return{tokens:c,inputEnd:b};if(a){var g=a[0];a=g.match(N);var m=c[c.length-1]||O;a?((g=h.substr(b).match(N)[0]),f(z,g)):W(g);b+=g.length;Q();}else"."==h[b]&&/\d/.test(h[b+1])&&((a=h.substr(b).match(N)[0]),f(z,a),(b+=a.length));if(b==M)break;m=c[c.length-1]||O;var e=h[b];g=h.substr(b,2);if(S.test(e))(a=h.substr(b).match(S)[0]),m.b?(m.b+=a):f(r,a),(b+=a.length);else if("'"==e||'"'==e||"`"==e){f(A,e);b++;g=0;for(var k="'"==e?/^[^'\\]+/:'"'==e?/^[^"\\]+/:/^[^`\\${]+/;b<M;){if((a=h.substr(b).match(k)))f(A,a[0]),(b+=a[0].length),(g=0);a=h[b];if("\\"==a)(a=h.substr(b).match(/[\\]+/)[0]),f(A,a),(g+=a.length),(b+=a.length);else if(a==e){if((f(A,a),b++,0==g%2))break;}else if("${"==h.substr(b,2)){f(u,"${");b+=2;a=h.substr(b);
var t=J(a,{braceUnmatch:!0});t.tokens.length&&(c=c.concat(t.tokens));b+=t.inputEnd;t.inputEnd!=a.length?(f(u,"}"),b++):"\n"==h[b-1]&&(c[c.length-1].b+="\n");}}}else if(aa.test(e))if(((a=h.substr(b)),(k=m.a),"//"==g||"/*"==g))(a=a.match(ba)[0]),(b+=a.length),f(P,a);else if("/"==e&&(r!=k||/^\s+$/.test(m.b))&&y!=k&&z!=k&&T.test(a))(g=!0),(k=(c[c.length-2]||{}).a),P!=m.a||(r!=k&&y!=k&&z!=k)||(g=!1),g?((a=a.match(T)[0]),f(U,a),(b+=a.length)):(f(u,e),b++);else if("=>"==g){if(r==m.a)(m.a=D),E.push(m.b.trim()),q.push((q[q.length-1]||0)+1),(v="function");else if(/\)\s*$/.test(m.b)){a=l.length;t=[c[c.length-1]];for(var G=c.length-2;0<=G;G--)if(((k=c[G]),t.push(k),H==k.a&&k.c==a)){c.splice(G);break;}t.reverse();R(t,a+1);}f(u,g);b+=2;}else f(u,e),b++;else if("("==e){a=m;k=a.a;g=c[c.length-2]||O;g=(a.b.match(/function\s*$/)&&F==k)||
(g.b.match(/function\s*$/)&&F==g.a)||"class"==l[l.length-1];f(H,"(");b++;l.push("(");v="(";if(r==k||y==k)a.a=V;g&&((a=J(h.substr(b),{breakOnParenUnmatch:!0})),R(a.tokens),(b+=a.inputEnd));}else if("{"==e||"["==e)f(H,e),b++,l.push(v),(v=e);else{if("}"==e||")"==e||"]"==e)if(((a={"}":"braceUnmatch",")":"parenUnmatch","]":"bracketUnmatch",}),0<l.length))"}"==e&&q.length&&"function"==l[l.length-1]&&(E.splice(q[q.length-2]),q.pop()),l.pop();else if(B[a[e]])break;f(H,e);b++;}Q();}"\n"==e&&(c[c.length-1].b+="\n");return{tokens:c,inputEnd:b};}if(window.Colorful){var X=/^(async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|export|extends|false|finally|for|function|if|implements|import|in|instanceof|interface|let|new|null|package|return|static|super|switch|this|throw|true|try|typeof|undefined|var|void|while|with|yield)$/,
N=/^((?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?)/,  ba=/(\/\*[\s\S]*?\*\/|\/\*[\s\S]*|\/\/.*)/,aa=/[-=+*/%!<>&|:?]/,Z=/^[\w\u00c0-\uffff$]+/u,T=/^\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/[gimyus]*/,Y=/^(AggregateError|Buffer|Array|ArrayBuffer|AsyncFunction|AsyncGenerator|AsyncGeneratorFunction|Atomics|BigInt|BigInt64Array|BigUint64Array|Boolean|DataView|Date|Error|EvalError|Float32Array|Float64Array|Function|Generator|GeneratorFunction|Int16Array|Int32Array|Int8Array|InternalError|Intl|JSON|Map|Math|Number|Object|Promise|Proxy|RangeError|ReferenceError|Reflect|RegExp|Set|SharedArrayBuffer|String|Symbol|SyntaxError|TypeError|URIError|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|WeakMap|WeakSet|WebAssembly)$/,
S=/[\s]+/,O={a:"",b:""},r="JS-NAME",y="JS-OBJECTPROP",F="JS-KEY",P="JS-COMMENT",z="JS-NUMBER",D="JS-ARGUMENT",L="JS-BUILTIN",V="JS-METHOD",A="JS-STRING",U="JS-REGEX",u="JS-OPERATOR",H="JS-OTHER";I.Colorful.tokenizers.JS=J;I.Colorful.tokenTypes=Object.assign(I.Colorful.tokenTypes,{[r]:"name js-name",[y]:"objprop",[F]:"keyword js-keyword",[P]:"comment js-comment",[z]:"number js-number",[D]:"argument",[L]:"builtIn js-builtIn",[V]:"method js-method",[A]:"string js-string",[U]:"regex",
[u]:"operator js-operator"});}else console.error("Core part of library wasn't imported. Import it by adding script tag linking core.js`");})(window);