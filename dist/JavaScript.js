(function(H){function y(h,v){function f(g,q){c.push({a:g,b:q.r(),c:n.length})}function D(g,q){q=void 0===q?0:q;for(var z=0,w=0;w<g.length;w++){var t=g[w],E=void 0;"A"!=t.a&&"G"!=t.a||t.c!=q||"K"==(null==(E=g[w-1])?void 0:E.a)||(z++,t.a="F",u.push(t.b.trim()))}u.push("arguments");c=c.concat(g);z?l.push(z+(l[l.length-1]||0)+1):l.push((l[l.length-1]||0)+1);r="function"}function I(g){var q=m.b||"";J.test(g)||("get"==g||"set"==g)&&"class"==n[n.length-1]?(/(function|if|do|while|for|class|catch|else|finally|switch|try)/.test(g)&&
(r=g.trim()),f("C",g)):!K.test(g)||/^(function|var|const|let)/.test(q)||/(\.\s*)$/.test(q)?/(\.\s*)$/.test(q)?f("B",g):-1<u.indexOf(g)?f("F",g):f("A",g):f("G",g)}v=void 0===v?{}:v;for(var A=h.length,c=[],a="",n=[],u=[],l=[],r="",b=0;b<A;){if(a=h.substring(b).match(L)){var d=a[0];a=d.match(B);var m=c[c.length-1]||C;a?(d=h.substring(b).match(B)[0],f("E",d)):I(d);b+=d.length;window.Colorful.m(c)}else"."==h[b]&&/\d/.test(h[b+1])&&(a=h.substring(b).match(B)[0],f("E",a),b+=a.length);if(b==A)break;m=c[c.length-
1]||C;var e=h[b],k=h.substr(b,2);if(F.test(e))a=h.substring(b).match(F)[0],m.b?m.b+=a:f("A",a),b+=a.length;else if("'"==e||'"'==e||"`"==e)for(f("I",e),b++,a="",d=0,k="'"==e?/^[^'\\]+/:'"'==e?/^[^"\\]+/:/^[^`\\${]+/;b<A;){if(a=h.substring(b).match(k))f("I",a[0]),b+=a[0].length,d=0;a=h[b];if("\\"==a)a=h.substring(b).match(/[\\]+/)[0],f("I",a),d+=a.length,b+=a.length;else if(a==e){if(f("I",a),b++,0==d%2)break}else if("${"==h.substr(b,2)){f("K","${");b+=2;a=h.substring(b);var p=y(a,{a:!0});p.tokens.length&&
(c=c.concat(p.tokens));b+=p.inputEnd;p.inputEnd!=a.length?(f("K","}"),b++):"\n"==h[b-1]&&(c[c.length-1].b+="\n")}}else if(e.match(M)[0])if(a=h.substring(b),d=m.a,"//"==k||"/*"==k)a=a.match(N)[0],b+=a.length,f("D",a);else if("/"==e&&("A"!=d||/^\s+$/.test(m.b))&&"B"!=d&&"E"!=d&&G.test(a))k=!0,p=void 0,d=null==(p=c[c.length-2])?void 0:p.a,"D"!=m.a||"A"!=d&&"B"!=d&&"E"!=d||(k=!1),k?(k=a.match(G)[0],f("J",k),b+=k.length):(f("K",e),b++);else if("=>"==k){if("A"==m.a)m.a="F",u.push(m.b.trim(),"arguments"),
l.push((l[l.length-1]||0)+2),r="function";else if(/\)\s*$/.test(m.b)){a=n.length;p=[c[c.length-1]];for(var x=c.length-2;0<=x;x--)if(d=c[x],p.push(d),"L"==d.a&&d.c==a){c.splice(x);break}p.reverse();D(p,a+1)}f("K",k);b+=2}else f("K",e),b++;else if("("==e){a=m;d=a.a;k=c[c.length-2]||C;k="function"==a.b.substr(0,8)&&"C"==d||"function"==k.b.substr(0,8)&&"C"==k.a||"class"==n[n.length-1];f("L","(");b++;n.push("(");r="(";if("A"==d||"B"==d)a.a="H";k&&(a=y(h.substring(b),{b:!0}),D(a.tokens),b+=a.inputEnd)}else if("{"==
e||"["==e)f("L",e),b++,n.push(r),r=e;else{if("}"==e||")"==e||"]"==e)if(a={"}":"a",")":"b","]":"c"},0<n.length)"}"==e&&l.length&&"function"==n[n.length-1]&&(u.splice(l[l.length-2]),l.pop()),n.pop();else if(v[a[e]])break;f("L",e);b++}window.Colorful.m(c)}"\n"==e&&(c[c.length-1].b+="\n");return{tokens:c,inputEnd:b}}var J=/^(await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|if|implements|import|in|instanceof|interface|let|native|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|undefined|var|void|while|with|yield)$/,
M=/[=+\-*/%!<>&|:?]*/,L=/^[\w\u00C0-\uffff\$]+/,B=/^(\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?)/,N=/((\/\*[\s\S]*?\*\/|\/\*[\s\S]*)|(\/\/.*))/,G=/^\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,K=/^(AggregateError|Buffer|Array|ArrayBuffer|AsyncFunction|AsyncGenerator|AsyncGeneratorFunction|Atomics|BigInt|BigInt64Array|BigUint64Array|Boolean|DataView|Date|Error|EvalError|Float32Array|Float64Array|Function|Generator|GeneratorFunction|Int16Array|Int32Array|Int8Array|InternalError|Intl|JSON|Map|Math|Number|Object|Promise|Proxy|RangeError|ReferenceError|Reflect|RegExp|Set|SharedArrayBuffer|String|Symbol|SyntaxError|TypeError|URIError|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|WeakMap|WeakSet|WebAssembly)$/,
F=/[\s]+/,C={a:"",b:""};H.Colorful.tokenizers.JS=y})(window);