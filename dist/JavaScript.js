(function(w){function x(f,m){function e(k,q){d.push({a:k,b:q.r(),c:n.length})}function r(k,q,y){q=void 0===q?0:q;y=void 0===y?!0:y;for(var z=0;z<k.length;z++){var u=k[z],E=void 0;"A"!=u.a&&"B"!=u.a||u.c!=q||"C"==(null==(E=k[z-1])?void 0:E.a)||(u.a="D");y&&u.c++}d=d.concat(k)}function v(k){var q=p.b||"";I.test(k)||"arguments"==k&&"function"==n[n.length-1]||("get"==k||"set"==k)&&"class"==n[n.length-1]?(/(function|if|do|while|for|class|catch|else|finally|switch|try|)/.test(k)&&(A=k),e("L",k)):J.test(k)&&
!/^(function|var|const|let)/.test(q)&&"."!=q[0]?e("B",k):/(\.)(\s*)$/.test(q)?e("E",k):e("A",k)}m=void 0===m?{}:m;for(var t=f.length,d=[],b="",n=[],A="e",a=0;a<t;){if(b=f.substring(a).match(K)){var c=b[0];b=c.match(C);var p=d[d.length-1]||D;b?(c=f.substring(a).match(C)[0],e("F",c)):v(c);a+=c.length;window.Colorful.m(d)}else"."==f[a]&&/\d/.test(f[a+1])&&(b=f.substring(a).match(C)[0],e("F",b),a+=b.length);if(a==t)break;p=d[d.length-1]||D;var g=f[a];b=f.substr(a,2);if(F.test(g))b=f.substring(a).match(F)[0],
p.b?p.b+=b:e("A",b),a+=b.length;else if("'"==g||'"'==g||"`"==g){e("G",g);a++;c="";b=0;for(var h="'"==g?/^[^'\\]+/:'"'==g?/^[^"\\]+/:/^[^`\\${]+/;a<t;){if(c=f.substring(a).match(h))e("G",c[0]),a+=c[0].length,b=0;c=f[a];if("\\"==c)c=f.substring(a).match(/[\\]+/)[0],e("G",c),b+=c.length,a+=c.length;else if(c==g){if(e("G",c),a++,0==b%2)break}else if("${"==f.substr(a,2)){e("C","${");a+=2;c=f.substring(a);var l=x(c,{a:!0});l.a.length&&(d=d.concat(l.a));a+=l.b;l.b!=c.length?(e("C","}"),a++):"\n"==f[a-1]&&
(d[d.length-1].b+="\n")}}}else if(g.match(L)[0])if(c=f.substring(a),h=p.a,"//"==b||"/*"==b)b=c.match(M)[0],a+=b.length,e("H",b);else if("/"==g&&("A"!=h||/^\s+$/.test(p.b))&&"E"!=h&&"F"!=h&&G.test(c))b=!0,l=void 0,h=null==(l=d[d.length-2])?void 0:l.a,"H"!=p.a||"A"!=h&&"E"!=h&&"F"!=h||(b=!1),b?(h=c.match(G)[0],e("I",h),a+=h.length):(e("C",g),a++);else if("=>"==b){if("A"==p.a)p.a="D";else if(/\)\s*$/.test(p.b)){c=n.length;l=[d[d.length-1]];for(var B=d.length-2;0<=B;B--)if(h=d[B],l.push(h),"J"==h.a&&
h.c==c){d.splice(B);break}l.reverse();r(l,c+1,!1)}e("C",b);a+=2}else e("C",g),a++;else if("("==g){c=p;h=c.a;l=d[d.length-2]||D;l="function"==c.b.substr(0,8)&&"L"==h||"function"==l.b.substr(0,8)&&"L"==l.a||"class"==n[n.length-1];e("J","(");a++;n.push("(");A="(";if("A"==h||"E"==h)c.a="K";l&&"()"!=b&&(b=x(f.substring(a),{b:!0}),r(b.a),a+=b.b)}else if("{"==g||"["==g)e("J",g),a++,n.push(A),A=g;else{if("}"==g||")"==g||"]"==g)if(b={"}":"a",")":"b","]":"c"},0<n.length)n.pop();else if(m[b[g]])break;e("J",
g);a++}window.Colorful.m(d)}"\n"==g&&(d[d.length-1].b+="\n");return{a:d,b:a}}function H(f){for(var m="",e={A:"name",E:"objprop",L:"keyword",H:"comment",F:"number",D:"argument",B:"capital",K:"method",G:"string",I:"regex",C:"operator"},r=0;r<f.length;r++){var v=f[r],t=v.a;m="J"!=t?m+("<span class='"+e[t]+"'>"+v.b+"</span>"):m+v.b}return m}var I=/^(await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|if|implements|import|in|instanceof|interface|let|native|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|undefined|var|void|while|with|yield)$/,
L=/[=+\-*/%!<>&|:?]*/,K=/^[\w\u00C0-\uffff\$]+/,C=/^(\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?)/,M=/((\/\*[\s\S]*?\*\/|\/\*[\s\S]*)|(\/\/.*))/,G=/^\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,J=/^(AggregateError|Buffer|Array|ArrayBuffer|AsyncFunction|AsyncGenerator|AsyncGeneratorFunction|Atomics|BigInt|BigInt64Array|BigUint64Array|Boolean|DataView|Date|Error|EvalError|Float32Array|Float64Array|Function|Generator|GeneratorFunction|Int16Array|Int32Array|Int8Array|InternalError|Intl|JSON|Map|Math|Number|Object|Promise|Proxy|RangeError|ReferenceError|Reflect|RegExp|Set|SharedArrayBuffer|String|Symbol|SyntaxError|TypeError|URIError|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|WeakMap|WeakSet|WebAssembly)$/,
F=/[\s]+/,D={a:"",b:""};w.Colorful.langs.push("JS");w.Colorful.compilers.JS={compile:function(f,m){m=void 0===m?w.Colorful.config:m;var e=f.innerText,r=x(e);r=H(r.a);f.innerHTML=w.Colorful.f(m,e,r)},tokenize:x,parse:H}})(window);