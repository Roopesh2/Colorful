(function(){function B(p,t){function c(h,q){d.push({type:h,g:q.A(),j:g.length})}function w(h,q,y){q=void 0===q?0:q;y=void 0===y?!0:y;for(var z=0;z<h.length;z++){var A=h[z],D=void 0;"TEXT"==A.type&&A.j==q&&"OPERATOR"!=(null==(D=h[z-1])?void 0:D.type)&&(A.type="ARGUMENT");y&&A.j++}d=d.concat(h)}function u(h){var q,y=(null==(q=d[d.length-2])?void 0:q.g)||"";q=m.g||"";J.test(h)||"arguments"==h&&"function"==g[g.length-1]||("get"==h||"set"==h)&&"class"==g[g.length-1]?(/(function|if|do|while|for|class|catch|else|finally|switch|try|)/.test(h)&&
(r=h),c("KEY",h)):E.test(h)?c("NUMBER",h):K.test(h)&&!/^(function|var|const|let)/.test(q)&&"."!=q[0]?c("CAPITAL",h):q.endsWith(".")||y.endsWith(".")?c("OBJECTPROP",h):c("TEXT",h)}t=void 0===t?{}:t;for(var x=p.length,d=[],b="",g=[],r="empty",v=!1,a=0;a<x;){b=p.substring(a).match(C);var n;if(b){var e=b[0],k=(n=e.match(E))&&"."==p[a+e.length];var m=d[d.length-1]||{};n=/[\.]$/.test(m.g)&&n;k&&(e+=".");a+=e.length;if(n)if(e="."+e,"."!=m.g)if("NUMBER"==m.type){m.g+=b;continue}else m.g=m.g.substr(0,m.g.length-
1);else d.pop();u(e);if(k)continue;window.Colorful.mergeSameTypes(d)}if(a==x)break;m=d[d.length-1]||F;var f=p[a];b=p.substr(a,2);if(G.test(f))b=p.substring(a).match(G)[0],m.g?m.g+=b:c("TEXT",b),a+=b.length;else if("'"==f||'"'==f||"`"==f){c("STRING",f);a++;b="";for(e=0;a<x;)if(k=p[a],k!=f)"\\"!=k?e=0:e++,"`"==f&&"${"==p.substr(a,2)?(c("STRING",b),b="",c("OPERATOR","${"),a+=2,k=B(p.substring(a),{m:"break"}),k.h.length&&(d=d.concat(k.h)),k.o&&(c("OPERATOR","}"),a++),a+=k.i):(b+=k,a++);else if(b+=k,a++,0==e%2)break;""!=
b&&c("STRING",b)}else if(f.match(L)[0])if(e=p.substring(a),"//"==b||"/*"==b)b=e.match(M)[0],a+=b.length,c("COMMENT",b);else if("/"==f&&"TEXT"!=m.type&&"OBJECTPROP"!=m.type&&"NUMBER"!=m.type&&H.test(e)){b=!0;if("COMMENT"==m.type)for(k=d.length-1;0<=k;k--)if(n=d[k],"COMMENT"!=n.type){if("TEXT"==n.type||"OBJECTPROP"==n.type||"NUMBER"==n.type)b=!1;break}b?(b=e.match(H)[0],c("REGEX",b),a+=b.length):(c("OPERATOR",f),a++)}else c("OPERATOR",f),a++;else if("("==f){e=m;k=e.g||"";n=d[d.length-2]||F;c("OTHER",
"(");a++;g.push("paren");var N="function"==k.substr(0,8)||"function"==n.g.substr(0,8)||"class"==g[g.length-1],I=C.test(k),O=C.test(n.g);N?("TEXT"==e.type&&I?e.type="METHOD":"TEXT"==n.type&&O&&(n.type="METHOD"),"()"!=b&&(b=B(p.substring(a),{v:"break"}),w(b.h),a+=b.i)):I&&("TEXT"==e.type||"OBJECTPROP"==e.type)&&/[\w\u00C0-\uffff$\s]+/.test((k.split("").reverse().join("").match(/^(\s)*[\w\u00C0-\uffff$\s]+/)||[""])[0])&&(e.type="METHOD")}else if(")"==f){if(0<g.length)g.pop();else if("break"==t.v){parenUnMatchEnd=
!0;break}c("OTHER",f);a++}else if("{"==f)c("OTHER",f),a++,g.push(r),r="empty";else if("}"==f){if(0<g.length)g.pop();else if("break"==t.m){v=!0;break}c("OTHER",f);a++}else if("["==f)c("OTHER",f),a++,g.push(r),r="bracket";else{if("]"==f)if(0<g.length)g.pop();else if("break"==t.N){bracketUnMatch=!0;break}c("OTHER",f);a++}window.Colorful.mergeSameTypes(d)}"\n"==f&&(d[d.length-1].g+="\n");return{h:d,i:a,o:v}}var J=/^(await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|if|implements|import|in|instanceof|interface|let|NaN|native|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|undefined|var|void|while|with|yield)$/,
L=/[=+\-*/%!<>&|:?]*/,C=/^[\w\u00C0-\uffff\$]+/,E=/^(\d*(\.\d*)?|0x[0-9a-f]*|0b[01]*|\d+(\.\d*)?(e|E)\d*)$/,M=/((\/\*[\s\S]*?\*\/|\/\*[\s\S]*)|(\/\/.*))/,H=/^\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,K=/^(AggregateError|Buffer|Array|ArrayBuffer|AsyncFunction|AsyncGenerator|AsyncGeneratorFunction|Atomics|BigInt|BigInt64Array|BigUint64Array|Boolean|DataView|Date|Error|EvalError|Float32Array|Float64Array|Function|Generator|GeneratorFunction|Int16Array|Int32Array|Int8Array|InternalError|Intl|JSON|Map|Math|Number|Object|Promise|Proxy|RangeError|ReferenceError|Reflect|RegExp|Set|SharedArrayBuffer|String|Symbol|SyntaxError|TypeError|URIError|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|WeakMap|WeakSet|WebAssembly)$/,
G=/[\s]+/,F={type:"",g:""};String.prototype.A=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};window.onload=function(){var p=document.getElementsByClassName("JS-colorful");if(p.length)for(var t=0;t<p.length;t++){var c=p[t],w="string"==typeof c.getAttribute("lineNumbering")?!0:!1;w={tabIndex:c.getAttribute("tabindex")||4,fontSize:c.getAttribute("fontsize")||16,lineHeight:c.getAttribute("lineheight")||20,s:w};var u=void 0;c=p[t];var x=c.innerText,d=window.performance.now(),
b=B(x);var g=b.h;for(var r="",v={M:"name",I:"objprop",F:"keyword",D:"comment",H:"number",B:"argument",C:"capital",G:"method",L:"string",K:"regex",J:"operator"},a=0;a<g.length;a++){var n=g[a],e=n.type;r="OTHER"!=e?r+("<span class='JS-"+v[e]+"'>"+n.g+"</span>"):r+n.g}g=r;d=window.performance.now()-d;if(w.s){r=(null==(u=x.match(/\n/g))?void 0:u.length)+1||1;u="<table border=0><tr><td><pre class='colorful-numberRow'>";for(v=1;v<=r;v++)u+=v,v<r&&(u+="\n");u+='</pre></td><td><code id="colorful-code" tabindex='+
w.tabIndex+">"+g+"</code></td></tr></table>"}else u='<code id="colorful-code" tabindex='+w.tabIndex+">"+g+"</code>";c.style.fontSize=w.fontSize+"px";c.innerHTML=u;console.log("total code analysed: "+(x.length/1024).toFixed(3)+" kb\nfound: "+b.h.length+" tokens\ncompile time: "+d.toFixed(4)+" ms\ncompile speed: "+(x.length/1024/d*1E3).toFixed(3)+" kib/s")}}})();